<div class="timelineContainer container">
  <div class="row">
    <div class="col-lg-12">
      <h1>{{course.title}}</h1>
      <ul class="timeline">
        <li ng-repeat="lesson in lessons" ng-class="$even ? '' : 'timeline-inverted'">
          <div class="timeline-image" ng-class="[{done: lesson.done}, {pulse: lessons[$index-1].done && !lesson.done}]" ng-click="setLesson(lesson)">
            <!-- <img class="img-circle img-responsive" src="http://lorempixel.com/250/250/cats/1" alt=""> -->
            <span class="icon ion-document-text" ng-show="lesson.type=='text'"></span>
            <span class="icon ion-headphone" ng-show="lesson.type=='audio'"></span>
            <span class="icon ion-social-youtube" ng-show="lesson.type=='video'"></span>
            <span class="icon ion-link" ng-show="lesson.type=='url'"></span>
          </div>
          <div class="timeline-panel">
            <div class="timeline-heading">
              <a class="subheading" ng-click="setLesson(lesson)">{{lesson.title}}</a>
            </div>
            <div class="timeline-body">
            </div>
          </div>
          <div ng-class="[$last ? '':'line', {done: lesson.done}]"></div>
        </li>
      </ul>
    </div>
  </div>
</div>

<a href="#/" class="btn btn-circle btn-lg library" data-toggle="tooltip" data-placement="left" title="Home"><span class="ion-home"></span></a>
<a href="#/" class="btn btn-circle btn-lg home" data-toggle="tooltip" data-placement="left" title="Library"><span class="ion-ios-book"></span></a>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="closeModal(lesson.type)"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">{{lesson.title}}</h4>
      </div>
      <div class="modal-body">
        <div ng-hide="lesson.type == 'url'" ng-bind-html="lesson.data | unsafe"></div>
        <iframe ng-hide="lesson.type !== 'url'" src="{{lesson.data | url}}"></iframe>
      </div>    
    </div>
  </div>
</div>